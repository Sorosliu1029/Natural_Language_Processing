\section{实验过程}
实验的主要过程是特征提取，也比较了不同分类器的分类结果。
实验过程是递进式的，即在上一次实验的结果上，考察新的特征提取技术，看对于最终的分类结果有没有帮助。\\
\subsection{分类结果评价标准}
实验使用ROC曲线和AUC值作为分类结果的评价标准。\\
ROC空间将假阳性率FPR作为X轴，真阳性率TPR作为Y轴。
我们研究的情感分析是一个二元分类问题。
利用分类器作二元的概率预测，然后在不同的阈值条件下，可以得到不同的FPR和TPR。
将FPR和TPR对应的$ (x, y) $ 座标点拟合成一条曲线，就是ROC曲线。\\
而AUC就是ROC曲线下面积，其直观的含义是：如果随机抽取一个阳性样本和一个阴性样本，分类器正确判断阳性样本的值高于阴性样本的概率。
从AUC值可以直观地判断分类器的表现。
\begin{itemize}
	\item
	  $ AUC = 1 $：是一个完美分类器，意味着存在至少一个阈值能得到完美的预测。不过在绝大多数的预测场合，不存在完美分类器。
	\item
	  $ 0.5 < AUC < 1 $：分类器优于随机猜测，选择一个妥善的阈值，有预测价值。
	\item
	  $ AUC = 0.5 $：随机猜测模型，没有预测价值。
	\item
	  $ AUC < 0.5 $：分类器比随机预测结果还要差，但是只要预测结果取反，就优于随机猜测。
\end{itemize}
也就是说，如果分类器的AUC值越大，其性能越好。

\subsection{训练集、测试集分割}
训练集和测试集的分割基于“二八”原则，即采用原始数据集的$ 80\% $作为训练集，$ 20\% $作为测试集。\\
同时为了防止训练集过小产生过拟合现象，我们使用交叉验证的方式来分割原始数据集。
实验中使用K次交叉验证的方式。
所谓K次交叉验证，是指将原始数据集分割成K个子样本，一个单独的子样本被保留作为测试集，其他$ K-1 $个样本用来训练。
交叉验证重复K次，每个子样本验证一次，平均K次的结果，得到一个单一的预测。
K次交叉验证的好处在于可以同时重复使用随机产生的子样本进行训练和验证，每次的结果验证一次。

\subsection{基于词包的特征提取}
将词包作为文本的特征是一个经典，简单直观而有效的特征提取方式，课上也讲过这个方法。
在词包模型中，文本被表示成组成它的词的包（多重集合）。
这个集合保留了词的重复次数，但是忽略文本的语法和词之间的顺序。\\
词包模型首先构建文本的词汇表，然后取最频繁的词汇作为词包的考察元素。
对于每个文本，统计各个频繁词的出现次数，作为该段文本的特征。\\
举例来讲，我们有两段文本：
\begin{itemize}
	\item
	``John likes to watch movies. Mary likes movie too.''
	\item
	``John also likes to watch football games.''
\end{itemize}
由这两段文本构造的词包为：
[ "John", "likes", "to", "watch", "movies", "also", "football", "games", "Mary", "too"]。
有了词包之后，我们就可以来构造文本的特征了。
最常用的方式是词汇频数。
上述例子构造的文本特征为：
\begin{itemize}
	\item
	``[1, 2, 1, 1, 2, 0, 0, 0, 1, 1]''
	\item
	``[1, 1, 1, 1, 0, 1, 1, 1, 0, 0]''
\end{itemize}

\input{sections/process_bow.tex}

\paragraph{简单词包的问题}
\begin{itemize}
	\item
	简单词包的方法忽略了词之间的位置关系，而只计算了词的频数。
	这样的方式缺失了上下文信息，提取的是孤立的特征。
	\item
	简单词包的方法将词包中所有的词一视同仁，没有考虑到有些词比较重要，而另一些词不是那么重要。
\end{itemize}
\paragraph{改进方式}
\begin{itemize}
	\item
	针对第一个问题，我们采用课上学到的”n-gram"的思想，将原始数据集先提取出bi-gram的特征，然后对这些特征作词包。
	\item
	针对第二个问题，我们计算文本词汇的“TF-IDF”值，作为词包集合中元素的加权值，然后将加权后的特征作为训练集测试集。
\end{itemize}

\input{sections/process_bow_bigram.tex}

从基于bigram的词包进行分类的结果来看，我们对于这个数据集倾向于不使用bigram词包，而是继续使用简单的unigram词包。

\input{sections/process_bow_tfidf.tex}

